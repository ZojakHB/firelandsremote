      <If Condition="Me.Class == WoWClass.DeathKnight" >
          <CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
		  <If Condition="SpellManager.CanCast(50977)"><!-- security -->
				<CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
		  </If>
		  <If Condition="SpellManager.CanCast(50977)"><!-- security -->
				<CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
		  </If>
          <CustomBehavior File="InteractWith" MobId="190942"  WaitForNpcs="true" WaitTime="2000" />
          <CustomBehavior File="WaitTimer" WaitTime="53500" />
          <CustomBehavior File="Misc\RunLua" Lua="ResetInstances();"  />
          <While Condition="Me.ZoneId == 139">
           <CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
		   	<If Condition="SpellManager.CanCast(50977)"><!-- security -->
				<CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
			</If>
		  	<If Condition="SpellManager.CanCast(50977)"><!-- security -->
				<CustomBehavior File="RunCode" Code="SpellManager.Cast(50977); await Coroutine.Sleep(11000);" />
			</If>
           <CustomBehavior File="InteractWith" MobId="190942"  WaitForNpcs="true" WaitTime="2000"  />
           <CustomBehavior File="WaitTimer" TerminateWhen="Me.IsInInstance" WaitTime="60000" />
				<If Condition="Me.ZoneId == 139">
					<CustomBehavior File="RunCode" Code="hearthCounter++;" />
					<CustomBehavior File="RunCode" Code="Logging.Write(System.Windows.Media.Colors.Orange, &quot;Teleport unsuccessful add +1 to counter&quot;);" />
				</If>
          </While>
          <CustomBehavior File="RunCode" Code="waitCounter++;" />
       </If>